(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();function f(){const o=document.getElementById("sidebar"),n=document.getElementById("sidebar-overlay"),s=document.getElementById("open-sidebar"),r=document.getElementById("close-sidebar"),e=document.getElementById("mobile-menu-btn"),t=document.querySelector(".dropdown-lang"),c=document.getElementById("lang-btn");function i(){o?.classList.remove("translate-x-full"),n?.classList.remove("hidden"),setTimeout(()=>n?.classList.remove("opacity-0"),10),document.body.style.overflow="hidden"}function a(){o?.classList.add("translate-x-full"),n?.classList.add("opacity-0"),setTimeout(()=>{o?.classList.contains("translate-x-full")&&n?.classList.add("hidden")},300),document.body.style.overflow=""}function u(l){l.preventDefault(),l.stopPropagation(),t?.classList.toggle("is-active")}s?.addEventListener("click",i),e?.addEventListener("click",i),r?.addEventListener("click",a),n?.addEventListener("click",a),c?.addEventListener("click",u),document.addEventListener("click",l=>{t&&!t.contains(l.target)&&t.classList.remove("is-active")})}async function d(o){try{const n=await fetch(`./locales/${o}.json`);if(!n.ok)throw new Error(`Не атрымалася загрузіць файл: ${o}.json`);const s=await n.json();document.querySelectorAll("[data-i18n]").forEach(e=>{const c=e.getAttribute("data-i18n").split(".").reduce((i,a)=>i?i[a]:null,s);c&&(e.innerHTML=c)});const r=document.querySelector("#current-lang");r&&(r.textContent=o.toUpperCase()),localStorage.setItem("preferred-lang",o),document.documentElement.lang=o}catch(n){console.error("I18n Error:",n)}}function m(){document.addEventListener("click",n=>{const s=n.target.closest(".lang-switch");if(s){const r=s.getAttribute("data-lang");d(r)}});const o=localStorage.getItem("preferred-lang")||"be";d(o)}document.addEventListener("DOMContentLoaded",()=>{f(),m()});
